<!-- src/components/AdminSidebar.vue -->
<template>
  <nav class="sidebar">
    <div class="nav-title">
      <span class="logo">ğŸ“ˆ</span>
      Admin
    </div>
    <div class="nav-items">
      <a
          v-for="item in menus"
          :key="item.path"
          @click="router.push(item.path)"
          class="nav-item"
          :class="{ 'active': activeMenu === item.path }"
      >
        <span class="icon">{{ item.icon }}</span>
        <span class="text">{{ item.text }}</span>
        <div class="hover-indicator"></div>
      </a>
      <!-- æ·»åŠ é€€å‡ºæŒ‰é’® -->
      <a
          @click="logout"
          class="nav-item"
      >
        <span class="icon">ğŸšª</span>
        <span class="text">å®¢æˆ·ç«¯</span>
        <div class="hover-indicator"></div>
      </a>
    </div>
  </nav>
</template>

<script setup lang="ts">
import { ref, computed } from 'vue'
import { useRouter, useRoute } from 'vue-router'

const router = useRouter()
const route = useRoute()

// å¯¼èˆªèœå•é…ç½®
const menus = [
  { path: '/CommentCalendar', icon: 'ğŸ“…', text: 'è¯„è®ºæ—¥å†' },
  { path: '/FeedBackAdmin', icon: 'ğŸ“©', text: 'åé¦ˆç®¡ç†' },
  { path: '/MovieManage', icon: 'ğŸ¬', text: 'ç”µå½±ç®¡ç†' },
  { path: '/CommentManage', icon: 'ğŸ’¬', text: 'è¯„è®ºç®¡ç†' },
  { path: '/UserManage', icon: 'ğŸ‘¤', text: 'ç”¨æˆ·ç®¡ç†' },
]

// è®¡ç®—å±æ€§ï¼šè·å–å½“å‰æ¿€æ´»çš„èœå•è·¯å¾„
const activeMenu = computed(() => route.path)

// é€€å‡ºåŠŸèƒ½
const logout = () => {
  router.push('/Main')
}
</script>

<style scoped>
/* ä¾§è¾¹æ åŠ¨æ€ç‰¹æ•ˆ */
.sidebar {
  background: linear-gradient(195deg, #1a1a1a, #2d2d2d);
  color: white;
  position: sticky;
  top: 0;
  height: 100vh;
  box-shadow: 4px 0 12px rgba(0,0,0,0.1);
}

.nav-title {
  font-size: 1.5rem;
  font-weight: 600;
  margin-bottom: 5vh;
  margin-top: 2vh;
  display: flex;
  align-items: center;
  gap: 2vh;
  border-radius: 8px;
  background: rgba(255,255,255,0.05);
}

.nav-item {
  position: relative;
  color: rgba(255,255,255,0.8);
  padding: 2vh 1vw;
  margin: 2vh 0;
  border-radius: 6px;
  display: flex;
  align-items: center;
  gap: 2vh;
  cursor: pointer;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);

  &:hover {
    background: rgba(255,255,255,0.05);
    transform: translateX(8px);

    .hover-indicator {
      opacity: 1;
      width: 3px;
    }
  }

  &.active {
    color: white;
    box-shadow: 0 4px 6px -1px rgba(0,0,0,0.1);
  }
}

.hover-indicator {
  position: absolute;
  height: 60%;
  width: 0;
  border-radius: 2px;
  opacity: 0;
  transition: all 0.3s;
}
</style>
